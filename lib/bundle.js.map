{"version":3,"sources":["webpack:///webpack/bootstrap 9244a61ff7c5518ed14e","webpack:///./lib/rushhour.js","webpack:///./lib/game.js","webpack:///./lib/game_view.js","webpack:///./lib/car.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAC;;;;;;;ACXD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAuB,sBAAsB;AAC7C,4BAA2B,sBAAsB;AACjD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;AC1FA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 9244a61ff7c5518ed14e\n **/","const Game = require(\"./game\");\nconst GameView = require(\"./game_view\");\n\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n  const canvasEl = document.getElementsByTagName(\"canvas\")[0];\n  canvasEl.width = Game.DIM_X;\n  canvasEl.height = Game.DIM_Y;\n\n  const ctx = canvasEl.getContext(\"2d\");\n  const game = new Game(canvasEl);\n  new GameView(game, ctx).start();\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/rushhour.js\n ** module id = 0\n ** module chunks = 0\n **/","const Car = require(\"./car\");\n\nclass Game {\n    constructor(canvas) {\n        this.canvas = canvas;\n        this.cars = [];\n        this.currentCar = null;\n        this.canvas.addEventListener(\"mousedown\", (e) => this.checkDown(e));\n        this.canvas.addEventListener(\"mousemove\", (e) => this.checkMove(e));\n        this.canvas.addEventListener(\"mouseup\", (e) => this.checkUp(e));\n        this.cars.push(new Car({\n            pos: [0, 0],\n            len: 200,\n            height: 100,\n            color: \"#acbbca\",\n            game: this,\n            orientation: \"horizontal\"\n        }));\n        this.cars.push(new Car({\n            pos: [300, 300],\n            len: 100,\n            height: 200,\n            color: \"#8723ef\",\n            game: this,\n            orientation: \"vertical\"\n        }));\n\n    }\n\n    checkDown(e) {\n        this.cars.forEach((car) => {\n            if ((e.pageX >= car.pos[0] + 8 &&\n                    e.pageX <= car.pos[0] + car.len + 8) &&\n                (e.pageY >= car.pos[1] + 8 &&\n                    e.pageY <= car.pos[1] + car.height + 8)) {\n                this.currentCar = car;\n                this.currentCar.mousedown();\n            }\n        });\n    }\n\n    checkUp(e) {\n        if (this.currentCar) {\n            this.currentCar.mouseup();\n            this.currentCar = null;\n        }\n    }\n\n    checkMove(e) {\n        if (this.currentCar) {\n            this.currentCar.drag(e);\n        }\n    }\n\n    checkCollisions() {\n        for (let i = 0; i < this.cars.length; i++) {\n            for (let j = 0; j < this.cars.length; j++) {\n                const obj1 = this.cars[i];\n                const obj2 = this.cars[j];\n\n                if (obj1.isCollidedWith(obj2)) {\n                    const collision = obj1.collideWith(obj2);\n                    if (collision) return;\n                }\n            }\n        }\n    }\n\n    draw(ctx) {\n        ctx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n        ctx.fillStyle = Game.BG_COLOR;\n        ctx.fillRect(0, 0, Game.DIM_X, Game.DIM_Y);\n\n        this.cars.forEach((object) => {\n            object.draw(ctx);\n        });\n    }\n\n    isOutOfBounds(car) {\n        return (car.pos[0] < 0) || (car.pos[1] < 0) ||\n            (car.pos[0] > Game.DIM_X) || (car.pos[1] > Game.DIM_Y);\n    }\n\n}\n\nGame.BG_COLOR = \"#123456\";\nGame.DIM_X = 600;\nGame.DIM_Y = 600;\nGame.FPS = 30;\n\nmodule.exports = Game;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/game.js\n ** module id = 1\n ** module chunks = 0\n **/","class GameView {\n  constructor(game, ctx) {\n    this.ctx = ctx;\n    this.game = game;\n  }\n\n  start() {\n    this.lastTime = 0;\n    //start the animation\n    requestAnimationFrame(this.animate.bind(this));\n  }\n\n  animate(time) {\n    const timeDelta = time - this.lastTime;\n    this.lastTime = time;\n    this.game.draw(this.ctx);\n\n    //every call to animate requests causes another call to animate\n    requestAnimationFrame(this.animate.bind(this));\n  }\n}\n\nmodule.exports = GameView;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/game_view.js\n ** module id = 2\n ** module chunks = 0\n **/","class Car {\n    constructor(options) {\n        this.pos = options.pos;\n        this.len = options.len;\n        this.height = options.height;\n        this.color = options.color;\n        this.game = options.game;\n        this.orientation = options.orientation;\n        this.draggable = false;\n    }\n\n    collideWith(otherObject) {\n\n    }\n\n    draw(ctx) {\n        ctx.beginPath();\n        ctx.rect(this.pos[0], this.pos[1], this.len, this.height);\n        ctx.closePath();\n        ctx.fillStyle = this.color;\n        ctx.fill();\n    }\n\n\n    drag(e) {\n        if (this.draggable) {\n          if (this.inBounds(e.pageX, e.pageY)){\n            if (this.orientation === \"horizontal\") {\n              this.pos[0] = e.pageX - 8 - this.len / 2;\n            } else {\n                this.pos[1] = e.pageY - 8 - this.height / 2;\n            }\n          }\n        }\n    }\n\n    inBounds(x, y){\n      return (\n        x - this.len/2>= 0 &&\n        x + this.len/2 <= 608 &&\n        y - this.height/2 >= 0 &&\n        y + this.height/2 <= 608\n      );\n    }\n\n    mousedown() {\n        this.draggable = true;\n    }\n\n    mouseup() {\n        this.draggable = false;\n    }\n}\n\nmodule.exports = Car;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/car.js\n ** module id = 3\n ** module chunks = 0\n **/"],"sourceRoot":""}